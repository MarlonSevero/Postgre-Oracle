
-- üì¶ DDL ‚Äì Comandos de defini√ß√£o (Oracle)

-- üî∏ CREATE TABLE

-- CREATE TABLE T_EXEMPLO (
--     ID NUMBER(5),
--     NOME VARCHAR2(50)
-- );



-- ‚∏ª

-- üîê CONSTRAINTS (PK, UNIQUE, CHECK, FK)

-- ALTER TABLE T_EXEMPLO ADD CONSTRAINT pk_exemplo PRIMARY KEY (ID);
-- ALTER TABLE T_EXEMPLO ADD CONSTRAINT un_exemplo UNIQUE (NOME);
-- ALTER TABLE T_EXEMPLO ADD CONSTRAINT ck_exemplo CHECK (ID > 0);
-- ALTER TABLE T_EXEMPLO ADD CONSTRAINT fk_exemplo FOREIGN KEY (ID_DEP) REFERENCES OUTRA_TABELA(ID);



-- ‚∏ª

-- ‚ûï ALTER TABLE ‚Äì Adicionar colunas

-- ALTER TABLE T_EXEMPLO ADD (COL1 VARCHAR2(20), COL2 NUMBER(5));



-- ‚∏ª

-- üõ†Ô∏è ALTER TABLE ‚Äì Modificar colunas

-- ALTER TABLE T_EXEMPLO MODIFY COL2 NUMBER(10);
-- ALTER TABLE T_EXEMPLO MODIFY COL2 NOT NULL;
-- ALTER TABLE T_EXEMPLO MODIFY COL2 NULL;



-- ‚∏ª

-- ‚úèÔ∏è Renomear coluna ou tabela

-- ALTER TABLE T_EXEMPLO RENAME COLUMN antigo TO novo;
-- ALTER TABLE T_EXEMPLO RENAME TO NOVO_NOME;



-- ‚∏ª

-- üí¨ Coment√°rios

-- COMMENT ON COLUMN T_EXEMPLO.COL1 IS 'Descri√ß√£o da coluna';
-- COMMENT ON TABLE T_EXEMPLO IS 'Descri√ß√£o da tabela';



-- ‚∏ª

-- üìå DEFAULT (Valor Padr√£o)

-- Ao criar a tabela:

-- CREATE TABLE T_EXEMPLO (
--     ID NUMBER DEFAULT 0,
--     STATUS VARCHAR2(10) DEFAULT 'ativo',
--     DT_CADASTRO DATE DEFAULT SYSDATE
-- );

-- Para alterar:

-- ALTER TABLE T_EXEMPLO MODIFY STATUS DEFAULT 'ativo';
-- ALTER TABLE T_EXEMPLO MODIFY STATUS DEFAULT NULL; -- remove

-- ‚úÖ Obs: Oracle usa SYSDATE para data/hora atual.

-- ‚∏ª

-- üóëÔ∏è DROP ‚Äì Remo√ß√µes

-- Tabela com constraints:

-- DROP TABLE T_EXEMPLO CASCADE CONSTRAINTS;

-- Constraint:

-- ALTER TABLE T_EXEMPLO DROP CONSTRAINT nome_constraint;

-- Remover v√°rias colunas:

-- ALTER TABLE T_EXEMPLO DROP (COL1, COL2);



-- ‚∏ª

-- üîÅ SEQUENCE

-- CREATE SEQUENCE SQ_EXEMPLO
-- START WITH 1
-- INCREMENT BY 1
-- MAXVALUE 9999
-- CACHE 10
-- NOCYCLE;

-- Usando com INSERT:

-- INSERT INTO T_EXEMPLO (ID, NOME)
-- VALUES (SQ_EXEMPLO.NEXTVAL, 'Jo√£o');

-- -- Pegar √∫ltimo valor usado (na sess√£o):
-- SELECT SQ_EXEMPLO.CURRVAL FROM DUAL;

-- Alterar sequ√™ncia:

-- ALTER SEQUENCE SQ_EXEMPLO
-- INCREMENT BY 2
-- MAXVALUE 10000
-- NOCACHE
-- NOCYCLE;



-- ‚∏ª

-- üÜî IDENTITY (a partir do Oracle 12c)

-- CREATE TABLE T_USUARIOS (
--     ID_USER NUMBER GENERATED ALWAYS AS IDENTITY,
--     NOME_USER VARCHAR2(10) NOT NULL
-- );

-- üß† Use GENERATED BY DEFAULT AS IDENTITY para permitir sobrescrever o valor se quiser.

-- ‚∏ª

-- üîÑ Resumo DML

-- -- INSERT
-- INSERT INTO T_EXEMPLO (ID, NOME) VALUES (1, 'TESTE');

-- -- SELECT
-- SELECT * FROM T_EXEMPLO;

-- -- UPDATE
-- UPDATE T_EXEMPLO SET NOME = 'ALTERADO' WHERE ID = 1;

-- -- DELETE
-- DELETE FROM T_EXEMPLO WHERE ID = 1;